(this["webpackJsonpmejuri-pin"]=this["webpackJsonpmejuri-pin"]||[]).push([[0],{53:function(t,e,n){},54:function(t,e,n){},55:function(t,e,n){},56:function(t,e,n){},57:function(t,e,n){},58:function(t,e,n){"use strict";n.r(e);var i=n(0),c=n(1),a=n.n(c),r=n(23),s=n.n(r),o=n(3),d=n(4),l=n(2),u=n(6),j=n(9),b="GET_ITEMS_BY_CATEGORY",f="GET_ITEMS_LIKED",m="ITEM_LIKED",h="ITEM_LIKED_REMOVE",O="ERROR",v=function(t,e){var n=[];switch(e.type){case b:var i=e.payload,c=i.categoryId,a=i.subCategoryId,r=i.collectionsData,s=a&&r?r.find((function(t){return t.id===a})).products:[];return Object(l.a)(Object(l.a)({},t),{},{filter:[c,a],itemsByCategory:s});case f:return Object(l.a)(Object(l.a)({},t),{},{filter:["liked_items"],itemsByCategory:e.payload||[]});case m:return n=[e.payload].concat(Object(j.a)(t.itemsLiked)),localStorage.setItem("itemsLiked",JSON.stringify(n)),Object(l.a)(Object(l.a)({},t),{},{itemsLiked:n,itemsLoading:!1});case h:return n=t.itemsLiked.filter((function(t){return t.id!==e.payload})),localStorage.setItem("itemsLiked",JSON.stringify(n)),Object(l.a)(Object(l.a)({},t),{},{itemsLiked:n,itemsLoading:!1});case O:return Object(l.a)(Object(l.a)({},t),{},{error:e.payload});default:return t}},p={itemsByCategory:[],itemsLiked:JSON.parse(localStorage.getItem("itemsLiked"))||[]},x=Object(c.createContext)(p),g=function(t){var e=t.children,n=Object(c.useReducer)(v,p),a=Object(u.a)(n,2),r=a[0],s=a[1];return Object(i.jsx)(x.Provider,{value:Object(l.a)(Object(l.a)({},r),{},{getItemsByCategory:function(t,e,n){try{s({type:b,payload:{categoryId:t,subCategoryId:e,collectionsData:n}})}catch(i){s({type:O,payload:i.response.data.error})}},listItems:function(t){try{s({type:f,payload:t})}catch(e){s({type:O,payload:e.response.data.error})}},addItemLiked:function(t){try{s({type:m,payload:t})}catch(e){s({type:O,payload:e.response.data.error})}},removeItemLiked:function(t){try{s({type:h,payload:t})}catch(e){s({type:O,payload:e.response.data.error})}}}),children:e})},y=function(){return Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",viewBox:"0 0 281.538 92.308","data-testid":"mejuri-logo",children:Object(i.jsx)("path",{d:"M109.446 33.947v-4.602H87.983l.003 32.588h21.46v-4.546H92.852V48.04h14.202v-4.391H92.852v-9.702zm137.549-4.879V62.46h4.871V29.068h.25-5.37zM184.359 29.409H179.5v19.232c0 5.436-3.628 9.232-8.823 9.232-5.134 0-8.72-3.838-8.72-9.333V29.41h-4.858v19.488c0 7.741 5.837 13.578 13.578 13.578 7.799 0 13.681-5.837 13.681-13.578V29.409zm37.744 32.556h5.863l-7.702-12.982.271-.109c4.769-1.919 7.395-5.285 7.395-9.478 0-5.694-4.675-9.987-10.874-9.987h-13.268v32.556h4.756v-12.65h6.773l6.786 12.65zm-13.457-28.107h8.001c3.691 0 6.475 2.425 6.475 5.641 0 3.891-3.257 5.927-6.475 5.927h-8.001V33.858zM64.477 50.775v4.135c0 7.261 2.267 11.021 7.345 12.166l1.154-1.733c-3.12-1.581-3.58-5.203-3.587-8.913l-.003-.094-.07-26.957H65.71L49.986 53.17 34.903 29.377h-4.284v32.615h4.687l-.036-22.495L48.987 59.75h1.733l13.763-20.249v11.281l-.006-.007zm57.064 7.531c1.119 1.332 3.897 4.042 7.963 4.042 6.231 0 10.257-4.309 10.257-10.977V29.347h-4.83v22.079c0 4.633-2.726 6.707-5.427 6.707-1.926 0-4.25-1.812-5.22-2.817l-.449.438L122 57.743l-.459.563z"})})};function w(){var t=Object(o.a)(["\n  text-align: center;\n  border-bottom: 1px solid #dddddd;\n  width: 100%;\n  svg {\n    max-height: 70px;\n    width: 40%;\n  }\n"]);return w=function(){return t},t}var C=d.a.div(w()),k=function(){return Object(i.jsx)(C,{"data-testid":"header",children:Object(i.jsx)(y,{})})},I="http://mejuri-fe-challenge.s3-website-us-east-1.amazonaws.com",_={shop_all:"".concat(I,"/shop_all.json"),bracelets:"".concat(I,"/bracelets.json"),earrings:"".concat(I,"/earrings.json"),pendants:"".concat(I,"/pendants.json"),rings:"".concat(I,"/rings.json"),items:"https://dto508s2j2p46.cloudfront.net"},L=n(27),z=n.n(L),M=function(t){return z.a.get(_[t])},S=[{id:"liked_items",name:"Liked Items"},{id:"shop_all",name:"Shop All"},{id:"bracelets",name:"Bracelets"},{id:"earrings",name:"Earrings"},{id:"pendants",name:"Pendants"},{id:"rings",name:"Rings"}],E=(n(53),function(t){var e=t.id,n=t.name,a=void 0===n?"Text":n,r=t.handlerOnClick,s=void 0===r?function(){}:r,o=Object(c.useContext)(x).filter,d=Object(c.useState)(!1),l=Object(u.a)(d,2),j=l[0],b=l[1];return Object(c.useEffect)((function(){o&&b(o.includes(e||a))}),[o]),Object(i.jsx)("div",{className:"filter-chip__container",children:Object(i.jsx)("span",{role:"button",className:"filter-chip".concat(j?" filter-chip--active":""),tabIndex:"0",onClick:function(t){t.stopPropagation(),b(!j),s()},children:Object(i.jsx)("span",{children:a})})})});function N(){var t=Object(o.a)(["\n  display: flex;\n  flex-wrap: nowrap;\n  overflow-x: auto;\n  max-width: 1024px;\n  margin-left: 10px;\n"]);return N=function(){return t},t}var B=d.a.div(N()),D=function(t){var e=t.collection,n=void 0===e?[]:e,c=t.setSelectedCategory,a=void 0===c?function(){}:c;return Object(i.jsx)(B,{"data-testid":"filter-list",children:n.map((function(t){return Object(i.jsx)(E,Object(l.a)(Object(l.a)({},t),{},{handlerOnClick:function(){return a(t.id)}}),t.id)}))})};function T(){var t=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n"]);return T=function(){return t},t}var R=d.a.div(T()),V=function(t){var e=t.width,n=void 0===e?120:e,c=t.height,a=void 0===c?30:c;return Object(i.jsx)(R,{children:Object(i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,fill:"#ffcccc",viewBox:"0 0 120 30","data-testid":"spinner-three-dots-icon",children:[Object(i.jsxs)("circle",{cx:"15",cy:"15",r:"15",children:[Object(i.jsx)("animate",{attributeName:"r",begin:"0s",calcMode:"linear",dur:"0.8s",from:"15",repeatCount:"indefinite",to:"15",values:"15;9;15"}),Object(i.jsx)("animate",{attributeName:"fill-opacity",begin:"0s",calcMode:"linear",dur:"0.8s",from:"1",repeatCount:"indefinite",to:"1",values:"1;.5;1"})]}),Object(i.jsxs)("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3",children:[Object(i.jsx)("animate",{attributeName:"r",begin:"0s",calcMode:"linear",dur:"0.8s",from:"9",repeatCount:"indefinite",to:"9",values:"9;15;9"}),Object(i.jsx)("animate",{attributeName:"fill-opacity",begin:"0s",calcMode:"linear",dur:"0.8s",from:"0.5",repeatCount:"indefinite",to:"0.5",values:".5;1;.5"})]}),Object(i.jsxs)("circle",{cx:"105",cy:"15",r:"15",children:[Object(i.jsx)("animate",{attributeName:"r",begin:"0s",calcMode:"linear",dur:"0.8s",from:"15",repeatCount:"indefinite",to:"15",values:"15;9;15"}),Object(i.jsx)("animate",{attributeName:"fill-opacity",begin:"0s",calcMode:"linear",dur:"0.8s",from:"1",repeatCount:"indefinite",to:"1",values:"1;.5;1"})]})]})})},F=(n(54),function(){var t=Object(c.useState)(!0),e=Object(u.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)([]),s=Object(u.a)(r,2),o=s[0],d=s[1],l=Object(c.useState)(S[0].id),b=Object(u.a)(l,2),f=b[0],m=b[1],h=Object(c.useState)(""),O=Object(u.a)(h,2),v=O[0],p=O[1],g=Object(c.useContext)(x),y=g.getItemsByCategory,w=g.listItems,C=g.itemsLiked;return Object(c.useEffect)((function(){p(""),a(!0),f===S[0].id?(d([]),a(!1)):M(f).then((function(t){var e=Object(j.a)(t.data);d(e),p(e[0].id),a(!1)})).catch((function(t){console.log("getCategoryByKey Request Failed. ERROR: ".concat(JSON.stringify(t))),d([]),a(!1)}))}),[f]),Object(c.useEffect)((function(){v&&f!==S[0].id?y(f,v,o):f===S[0].id&&w(C)}),[v,f,C]),Object(i.jsxs)("div",{className:"filter-bar","data-testid":"filter-bar",children:[Object(i.jsx)(D,{collection:S,setSelectedCategory:m},"parent-filters"),n&&Object(i.jsx)(V,{width:30}),!n&&o&&Object(i.jsx)(D,{collection:o,setSelectedCategory:p},"child-filters")]})}),H=function(t){var e=t.width,n=void 0===e?18:e,c=t.height,a=void 0===c?18:c,r=t.color,s=void 0===r?"#000":r;return Object(i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,fill:s,viewBox:"0 0 24 24","data-testid":"fav-icon",children:[Object(i.jsx)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),Object(i.jsx)("path",{d:"M19.66 3.99c-2.64-1.8-5.9-.96-7.66 1.1-1.76-2.06-5.02-2.91-7.66-1.1-1.4.96-2.28 2.58-2.34 4.29-.14 3.88 3.3 6.99 8.55 11.76l.1.09c.76.69 1.93.69 2.69-.01l.11-.1c5.25-4.76 8.68-7.87 8.55-11.75-.06-1.7-.94-3.32-2.34-4.28zM12.1 18.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"})]})},J=function(t){var e=t.color,n=void 0===e?"#ff5050":e,c=t.width,a=void 0===c?18:c,r=t.height,s=void 0===r?18:r;return Object(i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:n,width:a,height:s,"data-testid":"fav-filled-icon",children:[Object(i.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(i.jsx)("path",{d:"M13.35 20.13c-.76.69-1.93.69-2.69-.01l-.11-.1C5.3 15.27 1.87 12.16 2 8.28c.06-1.7.93-3.33 2.34-4.29 2.64-1.8 5.9-.96 7.66 1.1 1.76-2.06 5.02-2.91 7.66-1.1 1.41.96 2.28 2.59 2.34 4.29.14 3.88-3.3 6.99-8.55 11.76l-.1.09z"})]})};function P(){var t=Object(o.a)(["\n  width: 23px;\n  height: 23px;\n  background-color: white;\n  border: none;\n  border-radius: 50%;\n  position: relative;\n  &:active,\n  &:hover {\n    background-color: #D9D9D9;\n    border-radius: 50%;\n  }\n  &:focus,\n  &:focus-within {\n    outline: none;\n  }\n  svg {\n    position: absolute;\n    top: 3px;\n    left: 3px;\n  }\n"]);return P=function(){return t},t}var K=d.a.button(P()),G=function(t){var e=Object(c.useContext)(x),n=e.addItemLiked,a=e.removeItemLiked,r=Object(c.useState)(t.likedItem),s=Object(u.a)(r,2),o=s[0],d=s[1];return Object(i.jsx)(K,{onClick:function(){return function(){var e=!o;d(e),e?n(t.itemData):a(t.itemId)}()},children:o?Object(i.jsx)(J,{}):Object(i.jsx)(H,{color:"#D4D2CB"})})};function A(){var t=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 170px;\n  height: 170px;\n"]);return A=function(){return t},t}G.defaultProps={likedItem:!1};var Y=d.a.div(A()),q=function(t){var e=t.width,n=void 0===e?50:e,c=t.height,a=void 0===c?50:c;return Object(i.jsx)(Y,{children:Object(i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,fill:"#ffcccc",viewBox:"0 0 135 135","data-testid":"spinner-circles-icon",children:[Object(i.jsx)("path",{d:"M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z",children:Object(i.jsx)("animateTransform",{attributeName:"transform",dur:"2.5s",from:"0 67 67",repeatCount:"indefinite",to:"-360 67 67",type:"rotate"})}),Object(i.jsx)("path",{d:"M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z",children:Object(i.jsx)("animateTransform",{attributeName:"transform",dur:"8s",from:"0 67 67",repeatCount:"indefinite",to:"360 67 67",type:"rotate"})})]})})},Q=(n(55),function(t){var e=t.itemData,n=Object(c.useContext)(x).itemsLiked,a=Object(c.useState)(!1),r=Object(u.a)(a,2),s=r[0],o=r[1],d=e.id,l=e.name,j=e.variant_images,b=n&&n.some((function(t){return t.id===d})),f="".concat(_.items).concat(j&&j[0].attachment_url_original);return Object(i.jsxs)("div",{className:"item-unit","data-testid":"item-unit",children:[!s&&Object(i.jsx)(q,{}),Object(i.jsx)("span",{title:l,children:Object(i.jsx)("img",{title:l,alt:l,onLoad:function(){return o(!0)},src:f})}),Object(i.jsx)("div",{className:"item-unit__description",children:l}),Object(i.jsx)("div",{className:"item-unit__favourite--bookmarked",children:b?Object(i.jsx)(J,{}):Object(i.jsx)(H,{color:"#FF9999"})}),Object(i.jsx)("div",{className:"item-unit__favourite",children:Object(i.jsx)(G,{likedItem:b,itemId:d,itemData:e})})]})});n(56);function U(){var t=Object(o.a)(["\n  width: 100%;\n  max-height: 300px;\n"]);return U=function(){return t},t}var W=d.a.div(U()),X=function(){var t=Object(c.useContext)(x).itemsByCategory;return Object(i.jsx)("div",{className:"items__container--main",children:Object(i.jsxs)("div",{className:"items__container","data-testid":"items-container",children:[0===t.length&&Object(i.jsx)(W,{"data-testid":"no-liked-items",children:Object(i.jsx)(J,{width:"100%",height:"100%",color:"#FFE6E6"})}),t.map((function(t){return Object(i.jsx)(Q,{itemData:t},t.id)}))]})})};n(57);function Z(){var t=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return Z=function(){return t},t}var $=d.a.div(Z());var tt=function(){return Object(i.jsx)(g,{children:Object(i.jsxs)($,{children:[Object(i.jsx)(k,{}),Object(i.jsx)(F,{}),Object(i.jsx)(X,{})]})})},et=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(e){var n=e.getCLS,i=e.getFID,c=e.getFCP,a=e.getLCP,r=e.getTTFB;n(t),i(t),c(t),a(t),r(t)}))};s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(tt,{})}),document.getElementById("root")),et()}},[[58,1,2]]]);
//# sourceMappingURL=main.633a3555.chunk.js.map